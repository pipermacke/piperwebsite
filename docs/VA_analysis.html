<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Piper’s Site - Virginia Election Data Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.27/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Piper’s Site</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">About</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./portfolio.html">Portfolio</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./researchpaper.html">Research Paper</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./newsstory.html">News Story</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./VA_analysis.html" aria-current="page">Coding Walkthrough</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Piper Macke Resume.pdf">Resume</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#for-this-project-i-was-given-real-data-from-the-2020-presidential-election-in-the-state-of-virginia.-i-was-to-find-relationships-between-variables-and-show-information-i-found-interesting-using-r-packages.-the-following-is-a-walkthrough-of-my-completion-of-the-project-with-comments-included-in-the-code." id="toc-for-this-project-i-was-given-real-data-from-the-2020-presidential-election-in-the-state-of-virginia.-i-was-to-find-relationships-between-variables-and-show-information-i-found-interesting-using-r-packages.-the-following-is-a-walkthrough-of-my-completion-of-the-project-with-comments-included-in-the-code." class="nav-link active" data-scroll-target="#for-this-project-i-was-given-real-data-from-the-2020-presidential-election-in-the-state-of-virginia.-i-was-to-find-relationships-between-variables-and-show-information-i-found-interesting-using-r-packages.-the-following-is-a-walkthrough-of-my-completion-of-the-project-with-comments-included-in-the-code.">For this project, I was given real data from the 2020 presidential election in the state of Virginia. I was to find relationships between variables and show information I found interesting using R packages. The following is a walkthrough of my completion of the project, with comments included in the code.</a></li>
  <li><a href="#task-1-include-code-to-a-new-column-to-the-dataset-calculating-the-difference-between-the-percentage-of-the-vote-youngkin-received-and-what-trump-received." id="toc-task-1-include-code-to-a-new-column-to-the-dataset-calculating-the-difference-between-the-percentage-of-the-vote-youngkin-received-and-what-trump-received." class="nav-link" data-scroll-target="#task-1-include-code-to-a-new-column-to-the-dataset-calculating-the-difference-between-the-percentage-of-the-vote-youngkin-received-and-what-trump-received.">TASK 1) Include code to a new column to the dataset calculating the difference between the percentage of the vote Youngkin received and what Trump received.</a></li>
  <li><a href="#task-2-use-this-new-column-to-find-the-top-5-counties-with-the-highest-differences-between-younkintrump-percent-and-then-create-a-well-labeled-chart-to-visualize-them." id="toc-task-2-use-this-new-column-to-find-the-top-5-counties-with-the-highest-differences-between-younkintrump-percent-and-then-create-a-well-labeled-chart-to-visualize-them." class="nav-link" data-scroll-target="#task-2-use-this-new-column-to-find-the-top-5-counties-with-the-highest-differences-between-younkintrump-percent-and-then-create-a-well-labeled-chart-to-visualize-them.">TASK 2) Use this new column to find the Top 5 counties with the highest differences between Younkin/Trump percent, and then create a well-labeled chart to visualize them.</a></li>
  <li><a href="#task-3-create-a-chart-that-shows-the-top-5-counties-based-on-where-youngkin-got-the-highest-percentage-of-the-vote" id="toc-task-3-create-a-chart-that-shows-the-top-5-counties-based-on-where-youngkin-got-the-highest-percentage-of-the-vote" class="nav-link" data-scroll-target="#task-3-create-a-chart-that-shows-the-top-5-counties-based-on-where-youngkin-got-the-highest-percentage-of-the-vote">TASK 3) Create a chart that shows the Top 5 counties based on where Youngkin got the highest percentage of the vote</a></li>
  <li><a href="#task-4-create-a-table-that-shows-the-top-5-counties-based-on-where-mccauliffe-got-the-highest-percentage-of-the-vote" id="toc-task-4-create-a-table-that-shows-the-top-5-counties-based-on-where-mccauliffe-got-the-highest-percentage-of-the-vote" class="nav-link" data-scroll-target="#task-4-create-a-table-that-shows-the-top-5-counties-based-on-where-mccauliffe-got-the-highest-percentage-of-the-vote">TASK 4) Create a table that shows the Top 5 counties based on where McCauliffe got the highest percentage of the vote</a></li>
  <li><a href="#task-5-based-on-your-own-analysis-explain-a-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." id="toc-task-5-based-on-your-own-analysis-explain-a-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." class="nav-link" data-scroll-target="#task-5-based-on-your-own-analysis-explain-a-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it.">TASK 5) Based on your own analysis, explain a finding of your choosing, include a narrative explaining it to the audience and then create either a chart or table displaying it.</a></li>
  <li><a href="#task-6-based-on-your-own-analysis-explain-a-second-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." id="toc-task-6-based-on-your-own-analysis-explain-a-second-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." class="nav-link" data-scroll-target="#task-6-based-on-your-own-analysis-explain-a-second-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it.">TASK 6) Based on your own analysis, explain a second finding of your choosing, include a narrative explaining it to the audience and then create either a chart or table displaying it.</a></li>
  <li><a href="#task-7-based-on-your-own-analysis-explain-a-third-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." id="toc-task-7-based-on-your-own-analysis-explain-a-third-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." class="nav-link" data-scroll-target="#task-7-based-on-your-own-analysis-explain-a-third-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it.">TASK 7) Based on your own analysis, explain a third finding of your choosing, include a narrative explaining it to the audience and then create either a chart or table displaying it.</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Virginia Election Data Analysis</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="for-this-project-i-was-given-real-data-from-the-2020-presidential-election-in-the-state-of-virginia.-i-was-to-find-relationships-between-variables-and-show-information-i-found-interesting-using-r-packages.-the-following-is-a-walkthrough-of-my-completion-of-the-project-with-comments-included-in-the-code." class="level3">
<h3 class="anchored" data-anchor-id="for-this-project-i-was-given-real-data-from-the-2020-presidential-election-in-the-state-of-virginia.-i-was-to-find-relationships-between-variables-and-show-information-i-found-interesting-using-r-packages.-the-following-is-a-walkthrough-of-my-completion-of-the-project-with-comments-included-in-the-code.">For this project, I was given real data from the 2020 presidential election in the state of Virginia. I was to find relationships between variables and show information I found interesting using R packages. The following is a walkthrough of my completion of the project, with comments included in the code.</h3>
<p>First we’ll need to load the necessary libraries so our code works right. For this project, I used “DT”, “tidyverse”, “janitor”, “httr”, “jsonlite”, “kableExtra”, and “here”.</p>
<p>We want to look at the already processed data of the Virginia presidential and governor election, so therefore we will be using an RDS already downloaded, which should also be the case if you’d want to individually work with this data. This is how you would do that:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load saved joined data file from previous script</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>joined_vacomparison <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"joined_vacomparison.rds"</span>) <span class="co">#I uploaded this RDS file to my RStudio project, so I just have to tell the program where to look for it</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This way, we have extra columns with percentages and a dataset that is comprised of two previously joined datasets after using the inner_join() and mutate() functions. Here’s a look at the raw data table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(joined_vacomparison)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1bd4e3ad63c5ca4f47ac" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1bd4e3ad63c5ca4f47ac">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133"],["ACCOMACK COUNTY","ALBEMARLE COUNTY","ALEXANDRIA CITY","ALLEGHANY COUNTY","AMELIA COUNTY","AMHERST COUNTY","APPOMATTOX COUNTY","ARLINGTON COUNTY","AUGUSTA COUNTY","BATH COUNTY","BEDFORD COUNTY","BLAND COUNTY","BOTETOURT COUNTY","BRISTOL CITY","BRUNSWICK COUNTY","BUCHANAN COUNTY","BUCKINGHAM COUNTY","BUENA VISTA CITY","CAMPBELL COUNTY","CAROLINE COUNTY","CARROLL COUNTY","CHARLES CITY COUNTY","CHARLOTTE COUNTY","CHARLOTTESVILLE CITY","CHESAPEAKE CITY","CHESTERFIELD COUNTY","CLARKE COUNTY","COLONIAL HEIGHTS CITY","COVINGTON CITY","CRAIG COUNTY","CULPEPER COUNTY","CUMBERLAND COUNTY","DANVILLE CITY","DICKENSON COUNTY","DINWIDDIE COUNTY","EMPORIA CITY","ESSEX COUNTY","FAIRFAX COUNTY","FAIRFAX CITY","FALLS CHURCH CITY","FAUQUIER COUNTY","FLOYD COUNTY","FLUVANNA COUNTY","FRANKLIN COUNTY","FRANKLIN CITY","FREDERICK COUNTY","FREDERICKSBURG CITY","GALAX CITY","GILES COUNTY","GLOUCESTER COUNTY","GOOCHLAND COUNTY","GRAYSON COUNTY","GREENE COUNTY","GREENSVILLE COUNTY","HALIFAX COUNTY","HAMPTON CITY","HANOVER COUNTY","HARRISONBURG CITY","HENRICO COUNTY","HENRY COUNTY","HIGHLAND COUNTY","HOPEWELL CITY","ISLE OF WIGHT COUNTY","JAMES CITY COUNTY","KING &amp; QUEEN COUNTY","KING GEORGE COUNTY","KING WILLIAM COUNTY","LANCASTER COUNTY","LEE COUNTY","LEXINGTON CITY","LOUDOUN COUNTY","LOUISA COUNTY","LUNENBURG COUNTY","LYNCHBURG CITY","MADISON COUNTY","MANASSAS CITY","MANASSAS PARK CITY","MARTINSVILLE CITY","MATHEWS COUNTY","MECKLENBURG COUNTY","MIDDLESEX COUNTY","MONTGOMERY COUNTY","NELSON COUNTY","NEW KENT COUNTY","NEWPORT NEWS CITY","NORFOLK CITY","NORTHAMPTON COUNTY","NORTHUMBERLAND COUNTY","NORTON CITY","NOTTOWAY COUNTY","ORANGE COUNTY","PAGE COUNTY","PATRICK COUNTY","PETERSBURG CITY","PITTSYLVANIA COUNTY","POQUOSON CITY","PORTSMOUTH CITY","POWHATAN COUNTY","PRINCE EDWARD COUNTY","PRINCE GEORGE COUNTY","PRINCE WILLIAM COUNTY","PULASKI COUNTY","RADFORD CITY","RAPPAHANNOCK COUNTY","RICHMOND COUNTY","RICHMOND CITY","ROANOKE COUNTY","ROANOKE CITY","ROCKBRIDGE COUNTY","ROCKINGHAM COUNTY","RUSSELL COUNTY","SALEM CITY","SCOTT COUNTY","SHENANDOAH COUNTY","SMYTH COUNTY","SOUTHAMPTON COUNTY","SPOTSYLVANIA COUNTY","STAFFORD COUNTY","STAUNTON CITY","SUFFOLK CITY","SURRY COUNTY","SUSSEX COUNTY","TAZEWELL COUNTY","VIRGINIA BEACH CITY","WARREN COUNTY","WASHINGTON COUNTY","WAYNESBORO CITY","WESTMORELAND COUNTY","WILLIAMSBURG CITY","WINCHESTER CITY","WISE COUNTY","WYTHE COUNTY","YORK COUNTY"],[7578,42466,66240,2243,2411,5672,2418,105344,10840,646,12176,532,5700,2313,4552,1587,3471,825,8070,7657,2842,2624,2317,20696,66377,106935,3920,2972,964,587,10617,2227,11710,1503,6224,1612,3038,419943,9174,7146,17565,3004,7414,8381,2525,17207,8517,777,2156,6964,6685,1535,4163,2627,7666,46220,25307,11022,116572,9127,417,5430,9399,25553,1590,5404,3260,3368,1489,1791,138372,8269,2418,18048,2698,10356,3992,3766,1825,6803,2491,23218,4327,4621,53099,64440,3667,3252,464,2971,7995,3007,1954,12389,10115,2054,30948,5320,4973,7103,142863,4925,3358,2096,1513,92175,21801,26773,4086,12644,2373,5148,1692,6836,3008,3969,34307,40245,6981,28676,2397,2827,3205,117393,6603,6617,4961,4501,4790,6610,3110,3143,17683],[9172,20804,14544,5859,5390,11041,6702,22318,30714,1834,35600,2903,15099,5347,3357,8311,4544,1863,21245,8336,12659,1761,3815,3094,58180,93326,5192,6007,1580,2536,16012,3019,7428,5748,8695,754,3075,168401,4007,1490,25106,6225,8155,20895,1487,30558,4037,1838,6876,14875,9966,6529,6866,1914,10418,18430,44318,5591,63440,16725,1092,4020,13707,23153,2450,8446,7320,3697,8365,906,82088,13294,3537,17097,5300,6256,1979,2165,3901,9266,4196,20629,4812,9631,26377,23443,2955,4485,1109,4027,12426,9345,7485,1584,23751,5605,12755,14055,4434,10103,81222,12127,2786,2812,2547,16603,34268,15607,8088,30349,10879,7683,9063,16463,10963,5730,39411,37636,5695,20082,2025,2219,16731,105087,14069,21679,5507,5318,1963,5221,13366,11733,20241],[44.68,65.68,80.28,27.34,30.55,33.35,26.09,80.6,25.64,25.83,25.02,15.29,26.99,29.63,57.27,15.94,42.71,29.72,27,47.01,18.16,59.09,37.43,85.5,52.22,52.45,41.98,32.5,37.03,18.52,39.15,41.94,60.4,20.58,41.24,67.7,49.17,69.89,68.04,81.03,40.23,31.93,46.81,28.22,62.22,35.33,66.22,29.45,23.5,31.25,39.44,18.88,36.8,57.43,42.01,70.14,35.66,64.51,63.65,34.96,27.2,56.52,40.07,51.5,38.64,37.99,30.37,47.09,14.97,64.84,61.54,37.73,40.3,49.63,33.19,61.03,65.58,62.63,31.33,41.98,36.71,51.55,46.45,31.95,65.39,71.69,54.47,41.61,28.98,41.98,38.54,24.03,20.5,87.75,29.55,26.14,69.42,26.96,51.94,40.75,62.64,28.34,53.13,42.11,36.88,82.92,38.12,61.8,33.02,28.86,17.73,39.45,15.57,28.86,21.28,40.56,45.55,50.54,53.74,57.77,53.61,55.56,15.92,51.59,31.22,23.07,46.29,45.31,69.59,54.6,18.72,20.85,45.59],[54.07,32.18,17.63,71.43,68.29,64.93,72.31,17.08,72.65,73.33,73.15,83.44,71.49,68.5,42.24,83.5,55.92,67.11,71.07,51.18,80.88,39.65,61.62,12.78,45.77,45.77,55.61,65.68,60.7,80.03,59.05,56.85,38.31,78.71,57.61,31.67,49.77,28.03,29.72,16.9,57.5,66.17,51.48,70.35,36.64,62.74,31.39,69.67,74.93,66.76,58.8,80.3,60.7,41.85,57.09,27.97,62.45,32.72,34.64,64.07,71.23,41.84,58.44,46.66,59.54,59.38,68.18,51.69,84.1,32.8,36.51,60.66,58.95,47.02,65.2,36.87,32.51,36.01,66.96,57.18,61.84,45.8,51.65,66.59,32.48,26.08,43.89,57.39,69.27,56.89,59.91,74.68,78.51,11.22,69.39,71.34,28.61,71.24,46.31,57.96,35.61,69.79,44.08,56.49,62.09,14.94,59.93,36.02,65.37,69.27,81.27,58.87,83.38,69.51,77.55,58.55,52.33,47.27,43.84,40.45,45.29,43.61,83.1,46.18,66.53,75.58,51.39,53.54,28.52,43.13,80.45,77.85,52.19],[7878,19141,14013,4530,4720,9731,5971,21548,26196,1539,30912,2274,13066,3773,2880,5083,3894,1459,18213,6917,9868,1550,3354,2774,48079,80889,4642,4913,1198,2079,13436,2678,5907,3867,7335,723,2684,152110,3606,1590,22252,5230,7068,17842,1270,25063,3503,1424,5788,12585,9585,5144,5961,1709,8641,14651,39515,4382,55796,12902,969,3095,12000,21048,2112,7286,6286,3448,6372,775,71467,11649,3019,13668,4721,5050,1379,1676,3493,7922,3703,17041,4259,8569,21241,18888,2650,4167,866,3497,10670,7594,5946,1207,19543,4897,9946,12582,3876,8548,64658,9631,2266,2507,2225,15713,28157,12024,6906,26765,8229,6144,7065,13693,8477,5084,32478,31680,4640,17351,1768,1973,12045,86973,11294,17395,4473,4614,1703,4137,9691,9458,17485],[4948,31919,43866,1518,1617,3897,1438,73013,7231,396,8001,364,3990,1342,3165,903,2222,481,4930,5045,1910,1822,1396,14378,42907,74085,2739,1729,579,400,6661,1515,6872,934,4181,1087,1980,286316,6465,5388,11570,2203,5312,5894,1680,11164,5402,492,1535,4712,4910,1062,2806,1915,4804,29971,18107,6812,81409,5547,325,3085,6565,18836,1130,3317,2247,2406,882,1289,89390,5896,1567,11000,1973,6155,2158,2224,1363,4075,1860,15355,3346,3439,32399,40324,2584,2312,320,1892,5351,1995,1255,7591,6319,1364,19513,3721,3210,4577,87352,3277,1879,1686,936,61929,14445,16817,3071,8569,1452,3344,1034,4535,1751,2717,21426,25463,5004,19079,1756,2028,1821,73965,4328,4505,3275,2971,3185,4294,1796,2043,12190],[61.08,37.21,24.02,74.52,74.19,71,80.26,22.63,77.93,79.04,79.1,85.78,76.3,73.3,47.34,84.72,63.29,74.33,78.39,57.35,83.45,45.76,70.26,15.99,52.43,51.76,62.54,73.27,66.82,83.16,66.47,63.38,45.92,80.31,63.33,39.47,57,34.47,35.56,22.63,65.46,69.75,56.75,74.82,42.83,68.9,38.77,73.94,78.33,72.37,65.87,82.48,67.42,46.98,63.9,32.48,68.18,38.65,40.24,69.61,74.37,49.31,64.26,52.5,64.77,68.09,73.33,58.71,87.6,37.3,44.17,66.04,65.67,54.89,70.17,44.67,38.34,42.48,71.56,65.81,65.97,51.96,55.46,71.02,39.14,31.45,50.34,63.95,71.99,64.57,66.23,78.92,82.14,13.5,75.31,77.75,33.34,76.86,54.4,64.65,42.2,74.06,54.03,59.45,69.9,19.61,65.7,41.25,68.89,75.31,84.83,64.29,86.89,74.64,82.55,64.9,59.84,55,47.49,47.26,50,49.02,86.59,53.62,71.85,79.08,56.94,60.55,34.54,48.69,83.9,81.78,58.59],[38.37,62.05,75.2,24.97,25.42,28.43,19.33,76.67,21.51,20.34,20.47,13.73,23.3,26.07,52.02,15.05,36.11,24.5,21.22,41.83,16.15,53.79,29.24,82.88,46.79,47.41,36.9,25.79,32.29,16,32.95,35.86,53.42,19.4,36.1,59.33,42.05,64.89,63.74,76.69,34.04,29.38,42.65,24.71,56.66,30.69,59.79,25.55,20.77,27.09,33.74,17.03,31.73,52.64,35.53,66.45,31.24,60.09,58.71,29.93,24.94,49.16,35.16,46.98,34.65,31,26.21,40.97,12.13,62.03,55.25,33.43,34.09,44.17,29.33,54.44,59.99,56.38,27.92,33.85,33.14,46.82,43.57,28.5,59.69,67.14,49.09,35.48,26.6,34.93,33.22,20.73,17.34,84.87,24.35,21.66,65.41,22.73,45.05,34.62,57.01,25.2,44.8,39.98,29.41,77.27,33.7,57.7,30.64,24.11,14.97,34.99,12.72,24.72,17.05,34.68,39.47,44.2,51.21,51.96,49.66,50.39,13.09,45.6,27.53,20.48,41.69,38.99,64.59,50.54,15.55,17.67,40.85]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>locality<\/th>\n      <th>biden<\/th>\n      <th>trump<\/th>\n      <th>biden_pct<\/th>\n      <th>trump_pct<\/th>\n      <th>youngkin<\/th>\n      <th>mcauliffe<\/th>\n      <th>pct_youngkin<\/th>\n      <th>pct_mcauliffe<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="task-1-include-code-to-a-new-column-to-the-dataset-calculating-the-difference-between-the-percentage-of-the-vote-youngkin-received-and-what-trump-received." class="level3">
<h3 class="anchored" data-anchor-id="task-1-include-code-to-a-new-column-to-the-dataset-calculating-the-difference-between-the-percentage-of-the-vote-youngkin-received-and-what-trump-received.">TASK 1) Include code to a new column to the dataset calculating the difference between the percentage of the vote Youngkin received and what Trump received.</h3>
<p>Since we already have very helpful, previously created columns that tell us the percentage of the vote that Youngkin received and the percentage that Trump received, all we have to do is use a simple mutate() equation and name the column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>joined_vacomparison <span class="ot">&lt;-</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#this is where the new column we're creating will go</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="co">#mutate function to add columns to a data table </span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Youngkin_Trump_difference =</span> (pct_youngkin <span class="sc">-</span> trump_pct) <span class="co">#calculating the percentage of youngkin votes - percentage of trump                                                             votes and saving the new column as "Youngkin_Trump_difference</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="task-2-use-this-new-column-to-find-the-top-5-counties-with-the-highest-differences-between-younkintrump-percent-and-then-create-a-well-labeled-chart-to-visualize-them." class="level3">
<h3 class="anchored" data-anchor-id="task-2-use-this-new-column-to-find-the-top-5-counties-with-the-highest-differences-between-younkintrump-percent-and-then-create-a-well-labeled-chart-to-visualize-them.">TASK 2) Use this new column to find the Top 5 counties with the highest differences between Younkin/Trump percent, and then create a well-labeled chart to visualize them.</h3>
<p>There’s two steps to this problem. First, we need to find a way to specify the top 5 counties with the highest differences in vote, but that will be easy considering we just made a new column that calculates the difference for us.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>highest_difference_counties <span class="ot">=</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#we are calling this new object that contains the biggest differences "highest_difference_counties"  </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Youngkin_Trump_difference)) <span class="sc">%&gt;%</span> <span class="co">#arranging in descending order so we can easily pull the top 5</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="co">#function that gives us only the first 5 in the new data table </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have the top five counties according to the difference in the Youngkin vs Trump vote percentages, we can use ggplot to make a chart and visualize them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(highest_difference_counties, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(locality, Youngkin_Trump_difference), <span class="at">y =</span> Youngkin_Trump_difference)) <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#we are telling ggplot to order the x axis variables based on the y variable, in this case being the difference in the vote percentage </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">'black'</span>, <span class="at">fill =</span> <span class="st">'magenta'</span>) <span class="sc">+</span> <span class="co">#how the chart will be colored </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Difference in Percentage"</span>) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"County"</span>) <span class="sc">+</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Counties with Biggest Difference in Youngkin vs Trump Vote Percentage"</span>) <span class="sc">+</span> <span class="co">#naming the chart </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">0</span>)) <span class="co">#adjusting rotation of the county on x axis so we can clearly read the names of the counties </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="VA_analysis_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="task-3-create-a-chart-that-shows-the-top-5-counties-based-on-where-youngkin-got-the-highest-percentage-of-the-vote" class="level3">
<h3 class="anchored" data-anchor-id="task-3-create-a-chart-that-shows-the-top-5-counties-based-on-where-youngkin-got-the-highest-percentage-of-the-vote">TASK 3) Create a chart that shows the Top 5 counties based on where Youngkin got the highest percentage of the vote</h3>
<p>Now we just need to make a few changes to the process we just did and focus only on Youngkin. It will be another two-step process. First, finding the top 5 counties according to Youngkin’s percentage, then creating the chart.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>top_youngkin_pcts <span class="ot">=</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#our new object where the data will be saved </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(pct_youngkin)) <span class="sc">%&gt;%</span> <span class="co">#arranged in descending order according to the pct of the vote youngkin received</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="co">#now we can easily take the top 5 counties with the newly sorted data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we’ve distinguished the top 5 counties according to the Youngkin vote, we can make a chart with the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_youngkin_pcts, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(locality, pct_youngkin), <span class="at">y =</span> pct_youngkin)) <span class="sc">+</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#we plug in the data to be plotted, then say that we want the x axis to be ordered by the percentage of the youngkin vote, then specify that the y axis will be this percentage</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">'magenta'</span>, <span class="at">fill =</span> <span class="st">'purple'</span>) <span class="sc">+</span> <span class="co">#coloring the chart </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Youngkin Percentage"</span>) <span class="sc">+</span> <span class="co">#naming our y axis variables</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"County"</span>) <span class="sc">+</span> <span class="co">#naming our x axis variables</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Counties with Highest Youngkin Vote Percentage"</span>) <span class="sc">+</span> <span class="co">#title of the chart</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">0</span>)) <span class="co">#angling the text of the x axis variables to make them readable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="VA_analysis_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As you can see from our newly created chart, the top five counties are all pretty even with each other for this particular comparison.</p>
</section>
<section id="task-4-create-a-table-that-shows-the-top-5-counties-based-on-where-mccauliffe-got-the-highest-percentage-of-the-vote" class="level3">
<h3 class="anchored" data-anchor-id="task-4-create-a-table-that-shows-the-top-5-counties-based-on-where-mccauliffe-got-the-highest-percentage-of-the-vote">TASK 4) Create a table that shows the Top 5 counties based on where McCauliffe got the highest percentage of the vote</h3>
<p>The first part of this process will be almost identical to the last, but for a new candidate. Then, we’ll select the variables we wish to display in a table and plug these into the DT function to give us a new table.</p>
<p>Step 1: organizing the data we’ll be plugging into ggplot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>top_mccauliffe_pcts <span class="ot">=</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#our new object where the data will be saved (now McCauliffe instead of youngkin)</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(pct_mcauliffe)) <span class="sc">%&gt;%</span> <span class="co">#arranged in descending order according to the pct of the vote McCauliffe received</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="co">#again can easily take the top 5 counties with the newly sorted data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Step 2: plugging in our new variables to then output an organized, searchable table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>only_mccauliffe_pcts <span class="ot">&lt;-</span> top_mccauliffe_pcts <span class="sc">%&gt;%</span> <span class="co">#creating a new object where only the data we want will be stored</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>biden, <span class="sc">-</span>trump, <span class="sc">-</span>youngkin, <span class="sc">-</span>pct_youngkin, <span class="sc">-</span>biden_pct, <span class="sc">-</span>trump_pct, <span class="sc">-</span>Youngkin_Trump_difference)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#here we are using the select() command to delete columns we don't want in our table, and since right now we are only concerned with McCauliffe's percentage of the vote, that's all we'll need</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(only_mccauliffe_pcts) <span class="co">#so when we plug our new object into our DT function, we are left with an organized table of the top counties where McCauliffe's vote percentages were highest </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b1469840235d2f05e310" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b1469840235d2f05e310">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5"],["PETERSBURG CITY","CHARLOTTESVILLE CITY","RICHMOND CITY","FALLS CHURCH CITY","ARLINGTON COUNTY"],[7591,14378,61929,5388,73013],[84.87,82.88,77.27,76.69,76.67]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>locality<\/th>\n      <th>mcauliffe<\/th>\n      <th>pct_mcauliffe<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="task-5-based-on-your-own-analysis-explain-a-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." class="level3">
<h3 class="anchored" data-anchor-id="task-5-based-on-your-own-analysis-explain-a-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it.">TASK 5) Based on your own analysis, explain a finding of your choosing, include a narrative explaining it to the audience and then create either a chart or table displaying it.</h3>
<p>I thought it would be interesting to only look at counties that had more than 10,000 votes for each presidential candidate and to then see which candidate was more popular with the counties with a larger number of voters. So to do that, I created two new objects that only included counties that fit the 10,000 vote minimum and then looked at, of those counties, how often Biden won vs Trump.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>big_counties <span class="ot">&lt;-</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#making a basic data set with only large voting populations so we can use it later </span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(biden <span class="sc">&gt;</span> <span class="dv">10000</span>, <span class="co">#want biden and trump numbers to be above 10000</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>         trump <span class="sc">&gt;</span> <span class="dv">10000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Even though this is all we’ll need for the table, below is how we can see how many times Trump received a higher number of votes in large counties compared to Biden in large counties.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>big_counties_biden <span class="ot">&lt;-</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#this will be the object that consists of when Biden had more votes than Trump</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(biden <span class="sc">&gt;</span> <span class="dv">10000</span>, <span class="co">#this is the number of Biden votes, which we want to be greater than 10,000</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>         trump <span class="sc">&gt;</span> <span class="dv">10000</span>, <span class="co">#and this is the number of Trump votes </span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>         biden <span class="sc">&gt;</span> trump) <span class="co">#this line ensures that only counties where Biden had more votes than Trump were pulled from the data</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>big_counties_trump <span class="ot">&lt;-</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#same thing as last time, except now we're looking for the counties where Trump got more votes than Biden</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(biden <span class="sc">&gt;</span> <span class="dv">10000</span>, <span class="co">#same minimum requirements </span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>         trump <span class="sc">&gt;</span> <span class="dv">10000</span>, </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>         trump <span class="sc">&gt;</span> biden) <span class="co">#we want the number of votes for Trump to be greater than the number of votes for Biden</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(big_counties_biden) <span class="co">#by using the nrow() function, we see how many total rows there are in our filtered data sets, which also means it tells us how many counties Biden one, saving us object to use later "biden_won"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(big_counties_trump) <span class="co">#and here tells us how many Trump won (or at least, got the larger portion of the vote)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
</div>
<p>We’ll make a table for our “big_counties” data to be able to easily sift through the data for Trump and Biden votes in counties with large voting populations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>big_counties_trump_biden <span class="ot">&lt;-</span> big_counties <span class="sc">%&gt;%</span> <span class="co">#making a new object only with the necessary variables</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>youngkin, <span class="sc">-</span>mcauliffe, <span class="sc">-</span>pct_youngkin, <span class="sc">-</span>pct_mcauliffe, <span class="sc">-</span>Youngkin_Trump_difference) <span class="co">#we just want to look at Trump and Biden data in this table, so we get rid of these columns</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(big_counties_trump_biden) <span class="co">#use DT to make interactive table for the counties with &gt; 10,000 voters</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-0c57b2051e5d0d4a052b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0c57b2051e5d0d4a052b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32"],["ALBEMARLE COUNTY","ALEXANDRIA CITY","ARLINGTON COUNTY","AUGUSTA COUNTY","BEDFORD COUNTY","CHESAPEAKE CITY","CHESTERFIELD COUNTY","CULPEPER COUNTY","FAIRFAX COUNTY","FAUQUIER COUNTY","FREDERICK COUNTY","HAMPTON CITY","HANOVER COUNTY","HENRICO COUNTY","JAMES CITY COUNTY","LOUDOUN COUNTY","LYNCHBURG CITY","MONTGOMERY COUNTY","NEWPORT NEWS CITY","NORFOLK CITY","PITTSYLVANIA COUNTY","PORTSMOUTH CITY","PRINCE WILLIAM COUNTY","RICHMOND CITY","ROANOKE COUNTY","ROANOKE CITY","ROCKINGHAM COUNTY","SPOTSYLVANIA COUNTY","STAFFORD COUNTY","SUFFOLK CITY","VIRGINIA BEACH CITY","YORK COUNTY"],[42466,66240,105344,10840,12176,66377,106935,10617,419943,17565,17207,46220,25307,116572,25553,138372,18048,23218,53099,64440,10115,30948,142863,92175,21801,26773,12644,34307,40245,28676,117393,17683],[20804,14544,22318,30714,35600,58180,93326,16012,168401,25106,30558,18430,44318,63440,23153,82088,17097,20629,26377,23443,23751,12755,81222,16603,34268,15607,30349,39411,37636,20082,105087,20241],[65.68,80.28,80.6,25.64,25.02,52.22,52.45,39.15,69.89,40.23,35.33,70.14,35.66,63.65,51.5,61.54,49.63,51.55,65.39,71.69,29.55,69.42,62.64,82.92,38.12,61.8,28.86,45.55,50.54,57.77,51.59,45.59],[32.18,17.63,17.08,72.65,73.15,45.77,45.77,59.05,28.03,57.5,62.74,27.97,62.45,34.64,46.66,36.51,47.02,45.8,32.48,26.08,69.39,28.61,35.61,14.94,59.93,36.02,69.27,52.33,47.27,40.45,46.18,52.19]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>locality<\/th>\n      <th>biden<\/th>\n      <th>trump<\/th>\n      <th>biden_pct<\/th>\n      <th>trump_pct<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>And now we have a table to use for when we only want to see counties that had over 10,000 people vote for both parties in the 2020 presidential election.</p>
</section>
<section id="task-6-based-on-your-own-analysis-explain-a-second-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." class="level3">
<h3 class="anchored" data-anchor-id="task-6-based-on-your-own-analysis-explain-a-second-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it.">TASK 6) Based on your own analysis, explain a second finding of your choosing, include a narrative explaining it to the audience and then create either a chart or table displaying it.</h3>
<p>Since Biden and McCauliffe both ran as representatives of the Democratic party, I thought it would be interesting to analyze how often Biden won when both he and McCauliffe received over 50% of the vote for a county.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>dem_win <span class="ot">&lt;-</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#new data will be named dem_win and comes from our original data set</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(biden_pct <span class="sc">&gt;</span> <span class="fl">50.00</span>, <span class="co">#want biden_pct column over 50</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>         pct_mcauliffe <span class="sc">&gt;</span> <span class="fl">50.00</span>) <span class="sc">%&gt;%</span> <span class="co">#want pct_mccauliffe column over 50 as well</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>trump, <span class="sc">-</span>biden, <span class="sc">-</span>mcauliffe, <span class="sc">-</span>youngkin, <span class="sc">-</span>pct_youngkin, <span class="sc">-</span>Youngkin_Trump_difference, <span class="sc">-</span>trump_pct) <span class="co">#getting rid of any variables that don't have to do with Biden or McCauliffe's pct of the vote </span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>total_dem_win <span class="ot">&lt;-</span> <span class="fu">nrow</span>(dem_win) <span class="co">#we can use the nrow() function to see how many times Biden and McCauliffe have both won over 50% of the vote, which comes out to be 34</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>total_dem_win </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 34</code></pre>
</div>
</div>
<p>There are 34 cases in which both Biden and McCauliffe won over 50% of the vote, but we want to see the Biden percentages in those counties. So now we’ll make a chart displaying them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dem_win, <span class="fu">aes</span>(<span class="at">x =</span> locality, <span class="at">y =</span> biden_pct)) <span class="sc">+</span> <span class="co">#using our new dataset with only Biden and McCauliffe getting over 50% of the vote </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">'magenta'</span>, <span class="at">fill =</span> <span class="st">'black'</span>) <span class="sc">+</span> <span class="co">#coloring the chart </span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Biden Percentage"</span>) <span class="sc">+</span> <span class="co">#naming our y axis variables</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"County"</span>) <span class="sc">+</span> <span class="co">#naming our x axis variables</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Biden Percentages in Counties Biden and McCauliffe Won"</span>) <span class="sc">+</span> <span class="co">#title of the chart</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">0</span>)) <span class="co">#angling the text of the x axis variables to make them readable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="VA_analysis_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="task-7-based-on-your-own-analysis-explain-a-third-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it." class="level3">
<h3 class="anchored" data-anchor-id="task-7-based-on-your-own-analysis-explain-a-third-finding-of-your-choosing-include-a-narrative-explaining-it-to-the-audience-and-then-create-either-a-chart-or-table-displaying-it.">TASK 7) Based on your own analysis, explain a third finding of your choosing, include a narrative explaining it to the audience and then create either a chart or table displaying it.</h3>
<p>Because Youngkin and Trump are both members of the Republican party and McCauliffe and Biden are both members of the Democratic party, I thought it would be interesting to see how often the results of the presidential vs governor election were two different parties. Particularly, I wanted to see when Biden had a larger percentage of the votes but Youngkin won the percentage of the votes for governor. The first thing we need to do to find any of these instances is filter the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>biden_youngkin <span class="ot">&lt;-</span> joined_vacomparison <span class="sc">%&gt;%</span> <span class="co">#new data regarding when Biden and Youngkin both won as they are from different parties</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(biden_pct <span class="sc">&gt;</span> trump_pct, <span class="co">#filter so we only see counties where the Biden percentage was higher</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>         pct_mcauliffe <span class="sc">&lt;</span> pct_youngkin) <span class="co">#and also filter so we only see counties where the Youngkin percentage was higher </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we want to display these results in a table so we can search the counties of the mixed election results as we please. First, as we have done in the past, we only want to show in the table the columns that are relevant to why the table is being created so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>biden_youngkin_cleaned <span class="ot">&lt;-</span> biden_youngkin <span class="sc">%&gt;%</span> <span class="co">#cleaning out the columns we want</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>biden, <span class="sc">-</span>trump, <span class="sc">-</span>youngkin, <span class="sc">-</span>mcauliffe, <span class="sc">-</span>Youngkin_Trump_difference) <span class="co">#using the select to delete unnecessary columns</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(biden_youngkin_cleaned) <span class="co">#using DT feature to show our new cleaned out data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-de2dec2ff00792d47959" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-de2dec2ff00792d47959">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["CHESAPEAKE CITY","CHESTERFIELD COUNTY","HOPEWELL CITY","JAMES CITY COUNTY","LYNCHBURG CITY","MONTGOMERY COUNTY","NORTHAMPTON COUNTY","PRINCE EDWARD COUNTY","RADFORD CITY","STAFFORD COUNTY","SURRY COUNTY","VIRGINIA BEACH CITY"],[52.22,52.45,56.52,51.5,49.63,51.55,54.47,51.94,53.13,50.54,53.61,51.59],[45.77,45.77,41.84,46.66,47.02,45.8,43.89,46.31,44.08,47.27,45.29,46.18],[52.43,51.76,49.31,52.5,54.89,51.96,50.34,54.4,54.03,55,50,53.62],[46.79,47.41,49.16,46.98,44.17,46.82,49.09,45.05,44.8,44.2,49.66,45.6]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>locality<\/th>\n      <th>biden_pct<\/th>\n      <th>trump_pct<\/th>\n      <th>pct_youngkin<\/th>\n      <th>pct_mcauliffe<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pipermacke">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/pipermacke">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>